---
import type { Category as CategoryType } from "../types";
import Category from "./Category/Category.astro";

interface Props {
  categories: CategoryType[];
}

const { categories } = Astro.props;
---

<style>
  .category-background {
    background-image: url("../assets/background-image.png");
  }
</style>

<div class="min-h-screen category-background overflow-x-hidden">
  <div class="2xl:mx-[25%]">
    {categories.map((category) => <Category category={category} />)}
  </div>

  <button
    id="scrollToTop"
    class="fixed bottom-10 right-10 bg-gray-200 bg-opacity-50 border rounded-lg p-3 backdrop-blur-lg"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="32"
      height="32"
      viewBox="0 0 24 24"
      ><!-- Icon from Material Line Icons by Vjacheslav Trushkin - https://github.com/cyberalien/line-md/blob/master/license.txt -->
      <g
        fill="none"
        stroke="currentColor"
        stroke-dasharray="10"
        stroke-dashoffset="10"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        ><path d="M12 12l-5 5M12 12l5 5"
          ><animate
            fill="freeze"
            attributeName="stroke-dashoffset"
            dur="0.3s"
            values="10;0"></animate></path
        ><path d="M12 6l-5 5M12 6l5 5"
          ><animate
            fill="freeze"
            attributeName="stroke-dashoffset"
            begin="0.3s"
            dur="0.3s"
            values="10;0"></animate></path
        ></g
      ></svg
    >
  </button>
</div>

<script>
  const scrollToTopButton = document.querySelector("#scrollToTop");

  function toggleScrollButton() {
    if (window.scrollY > 300) {
      scrollToTopButton?.classList.remove("hidden");
    } else {
      scrollToTopButton?.classList.add("hidden");
    }
  }

  window.addEventListener("scroll", toggleScrollButton);

  scrollToTopButton?.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>
