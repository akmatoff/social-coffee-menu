---
import CategoryCarousel from "./Category/CategoryCarousel.astro";
import MenuButton from "./MenuButton.astro";
import Image from "astro/components/Image.astro";
import Logo from "../assets/social-coffee-logo.png";
import type { Category } from "../types";

const { searchParams } = Astro.url;

interface Props {
  categories: Category[];
  menuOptions: Category[];
}

const { categories, menuOptions } = Astro.props;
---

<section class="bg-secondary">
  <div
    class="bg-cover min-h-[70vh] md:min-h-screen flex flex-col justify-end space-y-12 background"
  >
    <div
      class="flex flex-col items-center justify-center space-y-20 h-full z-10"
    >
      <Image src={Logo} alt="logo" class="scale-75" />

      <div class="flex flex-col items-center space-y-4">
        {
          menuOptions.map((option) => (
            <MenuButton
              isActive={option.slug === searchParams.get("menu")}
              link={`/?menu=${option.slug}`}
            >
              {option.name}
            </MenuButton>
          ))
        }
      </div>
    </div>

    <div class="z-10">
      <CategoryCarousel categories={categories} />
    </div>
  </div>
</section>
